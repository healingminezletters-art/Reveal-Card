<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Healing Minez â€” Pull Your Card</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#40E0D0;
  --accent:#FF69B4;
  --gold:#FFD700;
  --card-max:320px;
}
html,body{height:100%;margin:0;font-family:'Playfair Display',serif;background:var(--bg);display:flex;flex-direction:column;align-items:center;color:#000;overflow-x:hidden;padding:18px;}
header{text-align:center;margin-top:6px;max-width:1100px;width:100%;}
h1{margin:8px 0 6px;font-size:1.6rem;line-height:1.15;}
h1 span{display:block;font-size:0.98rem;opacity:0.95;margin-top:6px;}
.signature{font-family:'Great Vibes',cursive;font-size:1.6rem;display:block;margin-top:8px;color:#FFD700;animation:pulse 2s infinite;}
@keyframes pulse{0%,100%{transform:scale(1);}50%{transform:scale(1.08);}}
.controls{margin:14px 0 6px;display:flex;gap:10px;align-items:center;justify-content:center;flex-wrap:wrap;}
.controls button{background:var(--accent);color:white;border:none;padding:10px 18px;font-size:1rem;border-radius:14px;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,0.12);transition:transform .14s ease, background 0.3s;}
.controls button:hover{background:#FF85C1;}
.controls button:active{transform:scale(.98);}
.controls button[aria-pressed="true"]{box-shadow:0 6px 16px rgba(0,0,0,0.18);outline:3px solid rgba(255,105,180,0.12);}
#spreadDesc{margin:8px 0 18px;font-size:0.98rem;text-align:center;color:#fff;min-height:22px;}
#cardWrap{width:100%;max-width:1200px;position:relative;display:flex;justify-content:center;align-items:flex-start;padding:10px 6px;}
#cardContainer{width:100%;min-height:380px;display:flex;justify-content:center;align-items:flex-start;position:relative;perspective:1600px;gap: 18px;padding:20px 10px;box-sizing:border-box;}
.card{width: clamp(160px, 20vw, var(--card-max)); aspect-ratio: 7/9; position:relative; transform-style:preserve-3d; -webkit-tap-highlight-color:transparent; border-radius:12px; display:flex; align-items:center; justify-content:center; cursor:pointer;}
.inner{position:absolute;inset:0;border-radius:12px;transform-style:preserve-3d;transition: transform .8s cubic-bezier(.2,.9,.25,1), box-shadow .3s;}
.face{position:absolute;inset:0;border-radius:12px;background-size:cover;background-position:center;backface-visibility:hidden;box-shadow:0 6px 18px rgba(0,0,0,0.12);}
.face.back{transform: rotateY(0deg);}
.face.front{transform: rotateY(180deg);}
.flipped .inner{transform: rotateY(180deg);}
#revealBtn{margin-top:18px;background: linear-gradient(135deg, #FFD700, #FF69B4, #FFB6C1); color:#fff; font-size:1.2rem; font-weight:bold; border-radius:18px; padding:14px 28px; box-shadow:0 6px 20px rgba(0,0,0,0.28); cursor:pointer; transition:transform 0.15s ease, box-shadow 0.3s;}
#revealBtn:hover{ transform:scale(1.05); box-shadow:0 8px 28px rgba(0,0,0,0.32);}
#revealBtn:active{ transform:scale(0.97);}
.card-modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;border-radius:16px;box-shadow:0 8px 28px rgba(0,0,0,0.36);padding:24px;max-width:90%;max-height:80%;display:none;flex-direction:column;align-items:center;justify-content:center;z-index:99;}
.card-modal img{max-width:100%;max-height:60vh;border-radius:12px;}
.card-modal p{margin-top:12px;font-size:1.1rem;text-align:center;color:#000;}
.card-modal button{margin-top:18px;padding:8px 16px;border:none;border-radius:12px;background:var(--accent);color:#fff;font-size:1rem;cursor:pointer;}
footer{margin-top:12px;font-size:0.9rem;color:rgba(0,0,0,0.6);}
</style>
</head>
<body>

<header>
  <h1 id="message">
    ðŸ¦‹ Pull your card(s), Beautiful Soul ðŸ’–<br>
    Each affirmation in this deck is a whisper from your healed self. This is a safe space.<br>
    Take a gentle breath, open your heart, and let these messages guide you. ðŸ’«<br>
    Trust the timing, trust yourself, and receive the insight meant just for you today. ðŸŒ¸
    <span class="signature">With unconditional love, Healing Minez ðŸ’–</span>
  </h1>
</header>

<div class="controls" role="toolbar" aria-label="Spread controls">
  <div id="spreadButtons" role="group" aria-label="Choose card spread">
    <button data-spread="1" aria-pressed="true">1 Card</button>
    <button data-spread="3" aria-pressed="false">3 Cards</button>
    <button data-spread="4" aria-pressed="false">4 Cards</button>
  </div>
  <div id="spreadDesc">Daily inspiration / journal prompt.</div>
</div>

<div id="cardWrap">
  <section id="cardContainer" aria-live="polite" aria-label="Card display area"></section>
</div>

<button id="revealBtn" aria-label="Reveal the selected card(s)">âœ¨ Reveal Card(s) âœ¨</button>

<!-- modal for enlarged card -->
<div class="card-modal" id="cardModal">
  <img id="modalImg" src="">
  <p id="modalText"></p>
  <button id="closeModal">Close</button>
  <button id="playPause">Play</button>
</div>

<!-- audio -->
<audio id="speakAudio"></audio>

<script>
const COVER = "https://i.imgur.com/3xOO16W.png"; // correct cover card
const CARDS = [
  "https://i.imgur.com/HMDsIdj.png","https://i.imgur.com/pu3CPVv.png","https://i.imgur.com/pDONoKd.png",
  "https://i.imgur.com/zgWvZtT.png","https://i.imgur.com/Ybi9YzL.png","https://i.imgur.com/SjaDX9E.png","https://i.imgur.com/oNN1KR0.png"
];

const AFFIRMATIONS = [
  "The version of me that once settled doesn't live here anymore.",
  "Iâ€™m no longer fighting to exist-Iâ€™m learning to live in my peace.",
  "I forgive myself for what I accepted when I didnâ€™t know my worth.",
  "My story is not a wound â€” itâ€™s a womb, birthing my new beginning.",
  "Every lesson Iâ€™ve lived is a key unlocking the woman I was born to be.",
  "I am done shrinking so others can feel comfortable in my light.",
  "Healing doesnâ€™t mean I forget â€” it means I choose me, finally.",
  "I am safe to be soft. I am safe to rest. I am safe to receive.",
  "I donâ€™t chase â€” I attract. I receive all I ask.",
  "My strength is not in how much I endure, but in how much I evolve.",
  "I give myself permission to rest without guilt.",
  "My softness is my power, not my weakness.",
  "I am learning to love the parts of me I once abandoned.",
  "Healing doesnâ€™t erase my story â€” it reclaims it.",
  "My emotions are sacred messengers, not enemies.",
  "I am allowed to start over as many times as I need.",
  "I no longer confuse chaos with love.",
  "I honor the woman I was for surviving.",
  "I release the need to prove my worth.",
  "I am safe to let go of what no longer serves me.",
  "I no longer shrink to make others comfortable.",
  "I release the idea that I must be strong all the time.",
  "The weight I carry is not mine to hold anymore.",
  "I trust the divine timing of my healing.",
  "I am free from the energy of people who drained my light.",
  "I no longer fight to exist â€” I choose to live in peace.",
  "I release comparison; my path is mine alone.",
  "I no longer chase whatâ€™s meant to flow to me.",
  "I am becoming the woman I once prayed to be.",
  "I am the calm I used to search for in others.",
  "I honor my boundaries as sacred acts of self love.",
  "I choose peace over proving.",
  "I am the author of my next chapter.",
  "I donâ€™t beg for love â€” I embody it.",
  "I am aligned with ease and abundance.",
  "My self-worth is not negotiable.",
  "My light no longer dims for anyone.",
  "I am the evidence that healing is real.",
  "I rise above fear with grace and wisdom.",
  "I am safe to be seen, heard, and loved.",
  "Every lesson Iâ€™ve lived is a key unlocking my freedom.",
  "I celebrate my progress, not just my perfection.",
  "I attract people who honor my healing.",
  "I am not afraid of who Iâ€™m becoming.",
  "I stand rooted in purpose, wrapped in peace.",
  "I am magnetic when I move in alignment.",
  "My light no longer dims for anyone.",
  "My voice is power â€” my truth is freedom.",
  "I no longer fear my power â€” I remember it. (Master Card)",
  "I am the prayer, the promise, and the proof that healing transforms. (Master Card)"
];

const cardContainer = document.getElementById('cardContainer');
const revealBtn = document.getElementById('revealBtn');
const spreadButtons = document.querySelectorAll('#spreadButtons button');
const spreadDesc = document.getElementById('spreadDesc');

let selectedSpread = 1;
let busy=false;

function setActiveSpread(n){
  selectedSpread = n;
  spreadButtons.forEach(btn=>btn.setAttribute('aria-pressed', btn.dataset.spread==n?'true':'false'));
  spreadDesc.textContent = n===1?"Daily inspiration / journal prompt.":n===3?"Deep insight: 3-card guidance spread.":"Deep insight: 4-card guidance spread.";
}

function showCover(){
  cardContainer.innerHTML="";
  const count = selectedSpread;
  for(let i=0;i<count;i++){
    const card=document.createElement('div'); card.className='card';
    const inner=document.createElement('div'); inner.className='inner';
    const back=document.createElement('div'); back.className='face back'; back.style.backgroundImage=`url(${COVER})`;
    const front=document.createElement('div'); front.className='face front'; front.style.backgroundImage=`url(${COVER})`;
    inner.appendChild(back); inner.appendChild(front); card.appendChild(inner);
    cardContainer.appendChild(card);
  }
}

function shuffleReveal(){
  if(busy) return; busy=true;
  const indices = [];
  while(indices.length<selectedSpread){
    const idx=Math.floor(Math.random()*CARDS.length);
    if(!indices.includes(idx)) indices.push(idx);
  }
  const cards=Array.from(cardContainer.children);
  cards.forEach((card,i)=>{
    const inner=card.querySelector('.inner');
    inner.querySelector('.front').style.backgroundImage=`url(${CARDS[indices[i]]})`;
    card.dataset.affirmation=AFFIRMATIONS[indices[i]]||"Your heart knows the answer.";
    card.classList.add('flipped');
  });
  busy=false;
}

// modal functionality
const modal = document.getElementById('cardModal');
const modalImg = document.getElementById('modalImg');
const modalText = document.getElementById('modalText');
const speakAudio = document.getElementById('speakAudio');
let playing=false;

cardContainer.addEventListener('click', e=>{
  const card = e.target.closest('.card');
  if(card && card.classList.contains('flipped')){
    modal.style.display='flex';
    modalImg.src=card.querySelector('.front').style.backgroundImage.slice(5,-2);
    modalText.textContent=card.dataset.affirmation;
    speakAudio.src = `https://api.voicerss.org/?key=1e5f9f80030e4f1e9e49387f36f0c969&hl=en-us&c=MP3&f=44khz_16bit_stereo&src=${encodeURIComponent(card.dataset.affirmation)}`;
    playing=false;
  }
});
document.getElementById('closeModal').addEventListener('click',()=>{ modal.style.display='none'; speakAudio.pause(); });
document.getElementById('playPause').addEventListener('click',()=>{
  if(playing){speakAudio.pause(); playing=false;}
  else{ speakAudio.play(); playing=true;}
});

spreadButtons.forEach(btn=>btn.addEventListener('click',()=>{
  setActiveSpread(Number(btn.dataset.spread));
  showCover();
}));

revealBtn.addEventListener('click',shuffleReveal);

// init
setActiveSpread(1);
showCover();
</script>
</body>
</html>
