<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Healing Minez ‚Äî Pull Your Card</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#40E0D0;
  --accent:#FF69B4;
  --gold:#FFD700;
  --card-max:320px;
}
html,body{height:100%;}
body{
  margin:0;
  min-height:100%;
  font-family:'Playfair Display',serif;
  background:var(--bg);
  display:flex;
  flex-direction:column;
  align-items:center;
  color:#000;
  -webkit-font-smoothing:antialiased;
  overflow-x:hidden;
  padding:18px;
}
header{ text-align:center; margin-top:6px; max-width:1100px; width:100%; }
h1{ margin:8px 0 6px; font-size:1.6rem; line-height:1.15; color:black;}
h1 span{ display:block; font-size:0.98rem; opacity:0.95; margin-top:6px; }
.signature{ font-family:'Great Vibes',cursive; font-size:1.6rem; display:block; margin-top:8px; color:#FFD700; animation:pulse 2s infinite; }
@keyframes pulse{0%,100%{transform:scale(1);}50%{transform:scale(1.08);} }

.controls{ margin:14px 0 6px; display:flex; gap:10px; align-items:center; justify-content:center; flex-wrap:wrap; }
.controls button{
  background:var(--accent); color:white; border:none; padding:10px 18px; font-size:1rem; border-radius:14px; cursor:pointer;
  box-shadow:0 4px 12px rgba(0,0,0,0.12); transition:transform .14s ease, background 0.3s;
}
.controls button:hover{ background:#FF85C1; }
.controls button:active{ transform:scale(.98); }
.controls button[aria-pressed="true"]{ box-shadow:0 6px 16px rgba(0,0,0,0.18); outline:3px solid rgba(255,105,180,0.12); }

#spreadDesc{ margin:8px 0 18px; font-size:0.98rem; text-align:center; min-height:22px; color:white; }

#cardWrap{ width:100%; max-width:1200px; position:relative; display:flex; justify-content:center; align-items:flex-start; padding:10px 6px; }
#cardContainer{
  width:100%;
  min-height:380px;
  display:flex;
  justify-content:center;
  align-items:flex-start;
  position:relative;
  perspective:1600px;
  gap: 18px;
  padding:20px 10px;
  box-sizing:border-box;
}

.card{
  width: clamp(160px, 20vw, var(--card-max));
  aspect-ratio: 7/9;
  position:relative;
  transform-style:preserve-3d;
  -webkit-tap-highlight-color:transparent;
  border-radius:12px;
  opacity:1;
  display:flex;
  align-items:center;
  justify-content:center;
  will-change:transform, opacity;
  cursor:pointer;
  transition: transform 0.3s ease;
}
.inner {
  position:absolute;
  inset:0;
  border-radius:12px;
  transform-style:preserve-3d;
  transition: transform .8s cubic-bezier(.2,.9,.25,1), box-shadow .3s;
  will-change: transform;
}
.face{
  position:absolute;
  inset:0;
  border-radius:12px;
  background-size:cover;
  background-position:center;
  backface-visibility:hidden;
  box-shadow:0 6px 18px rgba(0,0,0,0.12);
}
.face.back{ transform: rotateY(0deg); }
.face.front{ transform: rotateY(180deg); background:#fff; display:flex; align-items:center; justify-content:center; text-align:center; padding:12px; font-size:0.95rem; line-height:1.3;}
.flipped .inner{ transform: rotateY(180deg); }

#revealBtn{
  margin-top:18px;
  background: linear-gradient(135deg, #FFD700, #FF69B4, #FFB6C1);
  color:#fff;
  font-size:1.2rem;
  font-weight:bold;
  border-radius:18px;
  padding:14px 28px;
  box-shadow:0 6px 20px rgba(0,0,0,0.28);
  cursor:pointer;
  transition:transform 0.15s ease, box-shadow 0.3s;
}
#revealBtn:hover{ transform:scale(1.05); box-shadow:0 8px 28px rgba(0,0,0,0.32); }
#revealBtn:active{ transform:scale(0.97); }

footer{ margin-top:12px; font-size:0.9rem; color:rgba(0,0,0,0.6); }

.audio-controls{
  margin-top:8px;
  display:flex;
  gap:10px;
  justify-content:center;
  align-items:center;
}
.audio-controls button{
  padding:6px 12px;
  border:none;
  border-radius:8px;
  background:#FFD700;
  color:#000;
  cursor:pointer;
}

.hidden{ display:none!important; }
</style>
</head>
<body>

<header>
  <h1 id="message">
    ü¶ã Pull your card(s), Beautiful Soul üíñ<br>
    Each affirmation in this deck is a whisper from your healed self. This is a safe space.<br>
    Take a gentle breath, open your heart, and let these messages guide you. üí´<br>
    Trust the timing, trust yourself, and receive the insight meant just for you today. üå∏
    <span class="signature">With unconditional love, Healing Minez üíñ</span>
  </h1>
</header>

<div class="controls" role="toolbar" aria-label="Spread controls">
  <div id="spreadButtons" role="group" aria-label="Choose card spread">
    <button data-spread="1" aria-pressed="true">1 Card</button>
    <button data-spread="3" aria-pressed="false">3 Cards</button>
    <button data-spread="4" aria-pressed="false">4 Cards</button>
  </div>
  <div id="spreadDesc">Daily inspiration / journal prompt.</div>
</div>

<div id="cardWrap">
  <section id="cardContainer" aria-live="polite" aria-label="Card display area"></section>
</div>

<button id="revealBtn" aria-label="Reveal the selected card(s)">‚ú® Reveal Card(s) ‚ú®</button>

<div class="audio-controls hidden" id="audioControls">
  <button id="playAudio">‚ñ∂ Play</button>
  <button id="pauseAudio">‚è∏ Pause</button>
</div>

<footer aria-hidden="true"></footer>

<script>
const COVER = "https://i.imgur.com/ByGNT8v.png"; // Cover card
const CARDS = [
  "The version of me that once settled doesn't live here anymore.",
  "I‚Äôm no longer fighting to exist‚ÄîI‚Äôm learning to live in my peace.",
  "I forgive myself for what I accepted when I didn‚Äôt know my worth",
  "My story is not a wound ‚Äî it‚Äôs a womb, birthing my new beginning.",
  "Every lesson I‚Äôve lived is a key unlocking the woman I was born to be.",
  "I am done shrinking so others can feel comfortable in my light.",
  "Healing doesn‚Äôt mean I forget ‚Äî it means I choose me, finally.",
  "I am safe to be soft. I am safe to rest. I am safe to receive.",
  "I don‚Äôt chase ‚Äî I attract. I receive all I ask.",
  "My strength is not in how much I endure, but in how much I evolve.",
  "I give myself permission to rest without guilt.",
  "My softness is my power, not my weakness.",
  "I am learning to love the parts of me I once abandoned.",
  "Healing doesn‚Äôt erase my story ‚Äî it reclaims it.",
  "My emotions are sacred messengers not enemies.",
  "I am allowed to start over as many times as I need.",
  "I no longer confuse chaos with love.",
  "I honor the woman I was for surviving.",
  "I release the need to prove my worth.",
  "I am safe to let go of what no longer serves me.",
  "I no longer shrink to make others comfortable.",
  "I release the idea that I must be strong all the time.",
  "The weight I carry is not mine to hold anymore.",
  "I trust the divine timing of my healing.",
  "I am free from the energy of people who drained my light.",
  "I no longer fight to exist ‚Äî I choose to live in peace.",
  "I release comparison; my path is mine alone.",
  "I no longer chase what‚Äôs meant to flow to me",
  "I am becoming the woman I once prayed to be",
  "I am the calm I used to search for in others.",
  "I honor my boundaries as sacred acts of self love.",
  "I choose peace over proving.",
  "I am the author of my next chapter.",
  "I don‚Äôt beg for love ‚Äî I embody it.",
  "I am aligned with ease and abundance.",
  "My self-worth is not negotiable.",
  "My light no longer dims for anyone.",
  "I am the evidence that healing is real",
  "I rise above fear with grace and wisdom",
  "I am safe to be seen, heard, and loved.",
  "Every lesson I‚Äôve lived is a key unlocking my freedom.",
  "I celebrate my progress, not just my perfection.",
  "I attract people who honor my healing",
  "I am not afraid of who I‚Äôm becoming.",
  "I stand rooted in purpose, wrapped in peace.",
  "I am magnetic when I move in alignment.",
  "My light no longer dims for anyone.",
  "My voice is power ‚Äî my truth is freedom.",
  "I no longer fear my power ‚Äî I remember it. (Master Card: Power)",
  "I am the prayer, the promise, and the proof that healing transforms. (Master Card: Crown)"
];

const cardContainer = document.getElementById('cardContainer');
const revealBtn = document.getElementById('revealBtn');
const spreadButtons = document.querySelectorAll('#spreadButtons button');
const spreadDesc = document.getElementById('spreadDesc');
const audioControls = document.getElementById('audioControls');
const playBtn = document.getElementById('playAudio');
const pauseBtn = document.getElementById('pauseAudio');

let selectedSpread = 1;
let synth = window.speechSynthesis;
let currentUtterance = null;
let currentIndex = 0;
let busy = false;

function pickUniqueIndices(n,len){
  const arr = Array.from({length:len},(_,i)=>i);
  for(let i=len-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]]=[arr[j],arr[i]];
  }
  return arr.slice(0,n);
}

function setActiveSpread(n){
  selectedSpread = n;
  spreadButtons.forEach(btn=>{
    const s = Number(btn.dataset.spread);
    btn.setAttribute('aria-pressed', s===n ? 'true' : 'false');
  });
  spreadDesc.textContent = n===1 ? "Daily inspiration / journal prompt."
                     : n===3 ? "Deep insight: 3-card guidance spread."
                     : "Deep insight: 4-card guidance spread.";
}

function showCoverCards(n){
  cardContainer.innerHTML='';
  for(let i=0;i<n;i++){
    const card = document.createElement('div');
    card.className='card';
    const inner = document.createElement('div'); inner.className='inner';
    const back = document.createElement('div'); back.className='face back'; back.style.backgroundImage=`url(${COVER})`;
    const front = document.createElement('div'); front.className='face front';
    inner.appendChild(back); inner.appendChild(front);
    card.appendChild(inner);
    cardContainer.appendChild(card);
  }
}

function shuffleAndReveal(){
  if(busy) return; busy=true;
  const indices = pickUniqueIndices(selectedSpread, CARDS.length);
  const cards = Array.from(cardContainer.children);

  cards.forEach((c,i)=>{
    const inner = c.querySelector('.inner');
    const front = inner.querySelector('.front');
    front.textContent = CARDS[indices[i]];
    inner.classList.remove('flipped');
    c.onclick = ()=>playCardAudio(CARDS[indices[i]]);
  });

  setTimeout(()=>{ cards.forEach(c=>c.querySelector('.inner').classList.add('flipped')); busy=false; }, 400);
}

function playCardAudio(text){
  if(synth.speaking){ synth.cancel(); }
  const utterThis = new SpeechSynthesisUtterance(text);
  utterThis.rate=0.95;
  utterThis.pitch=1.05;
  currentUtterance = utterThis;
  synth.speak(utterThis);
  audioControls.classList.remove('hidden');
}

playBtn.onclick=()=>{ if(currentUtterance && !synth.speaking){ synth.speak(currentUtterance); } };
pauseBtn.onclick=()=>{ if(synth.speaking){ synth.cancel(); } };

spreadButtons.forEach(btn=>btn.addEventListener('click',()=>{ setActiveSpread(Number(btn.dataset.spread)); showCoverCards(Number(btn.dataset.spread)); }));
revealBtn.addEventListener('click',shuffleAndReveal);
setActiveSpread(1); showCoverCards(1);
</script>
</body>
</html>
