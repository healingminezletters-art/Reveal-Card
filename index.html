<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Healing Minez: Pull Your Cards</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display&display=swap" rel="stylesheet">
<style>
  body {
    margin:0;
    padding:0;
    background:#40E0D0;
    font-family:'Playfair Display', serif;
    color:black;
    text-align:center;
    overflow-x:hidden;
  }
  h1 { font-size:2em; margin-top:20px; }
  h1 span { display:block; font-size:1em; margin-top:10px; }
  .signature { 
    font-family:'Great Vibes', cursive; 
    font-size:1.5em; color:#000; margin-top:10px; 
    animation: pulse 2s infinite; 
  }
  @keyframes pulse {
    0%,100%{ transform:scale(1); }
    50%{ transform:scale(1.1); }
  }
  #spreadButtons button {
    background:#FF69B4; color:white; border:none; padding:15px 30px;
    margin:5px; border-radius:15px; cursor:pointer; font-size:1.2em; transition: transform 0.2s;
  }
  #spreadButtons button:hover { transform: scale(1.05); }
  #spreadDesc { font-size:1.1em; margin:10px 0; min-height:24px; }
  #cardContainer {
    margin:30px auto; position:relative; width:90%; max-width:800px; min-height:300px;
    display:flex; justify-content:center; align-items:center; gap:25px;
  }
  .card {
    width:180px; height:280px; border-radius:10px; cursor:pointer;
    transform-style: preserve-3d;
    transition: transform 0.6s;
    backface-visibility: hidden;
    position: relative;
  }
  #revealBtn {
    background-color:#FF69B4; color:white; border:none; padding:15px 30px;
    font-size:1.2em; border-radius:15px; cursor:pointer; transition: transform 0.2s;
  }
  #revealBtn:hover { transform: scale(1.05); }
  .star {
    position:absolute; width:2px; height:2px; background:white; border-radius:50%;
    box-shadow:0 0 4px 1px gold; animation: twinkle 2s infinite;
  }
  @keyframes twinkle {0%,100% {opacity:0.3;} 50% {opacity:1;}}
  .sparkle { position:absolute; width:6px; height:6px; border-radius:50%; background:#FFD700;
    box-shadow:0 0 10px 3px #FFD700; opacity:0; pointer-events:none; animation:sparkleAnim 0.8s ease-out forwards;}
  @keyframes sparkleAnim {0% {transform:scale(0); opacity:1;} 50% {transform:scale(1.5); opacity:1;} 100% {transform:scale(0); opacity:0;}}
  @keyframes popReveal {0% {transform: scale(0.7) rotateY(0deg);} 50% {transform: scale(1.1);} 100% {transform: scale(1);}}
</style>
</head>
<body>

<h1>
ðŸ¦‹ Pull your card(s), Beautiful Soul ðŸ’–
<span>Each affirmation in this deck is a whisper from your healed self. This is a safe space.</span>
<span class="signature">With unconditional love, Healing Minez ðŸ’–</span>
</h1>

<div id="spreadButtons">
  <button data-spread="1">1 Card</button>
  <button data-spread="3">3 Cards</button>
  <button data-spread="5">5 Cards</button>
</div>

<div id="spreadDesc"></div>

<div id="cardContainer"></div>

<br>
<button id="revealBtn">âœ¨ Reveal Card(s) âœ¨</button>

<audio id="chime" src="https://www.soundjay.com/misc/sounds/magic-chime-01.mp3"></audio>

<script>
const version = Date.now();
const deck = [
  {front:`https://i.imgur.com/MB5MTZ4.png?v=${version}`, message:"Affirmation 1"},
  {front:`https://i.imgur.com/HsSFp1G.png?v=${version}`, message:"Affirmation 2"},
  {front:`https://i.imgur.com/HMDsIdj.png?v=${version}`, message:"Affirmation 3"},
  {front:`https://i.imgur.com/pu3CPVv.png?v=${version}`, message:"Affirmation 4"},
  {front:`https://i.imgur.com/pDONoKd.png?v=${version}`, message:"Affirmation 5"},
  {front:`https://i.imgur.com/zgWvZtT.png?v=${version}`, message:"Affirmation 6"}
];
const goldBack = `https://i.imgur.com/3xOO16W.png`;

const cardContainer = document.getElementById('cardContainer');
const revealBtn = document.getElementById('revealBtn');
const chime = document.getElementById('chime');
const spreadDesc = document.getElementById('spreadDesc');
let selectedSpread = 1;
let pulledCards = [];

// Initial gold card(s) on load
function showInitialCard() {
  cardContainer.innerHTML = '';
  const img = document.createElement('img');
  img.src = goldBack;
  img.className = 'card';
  cardContainer.appendChild(img);
}
showInitialCard();

// Spread buttons
document.querySelectorAll('#spreadButtons button').forEach(btn=>{
  btn.addEventListener('click', ()=> {
    selectedSpread = parseInt(btn.dataset.spread);
    spreadDesc.innerText = selectedSpread === 1 ? "Daily inspiration / journal prompt." :
                           selectedSpread === 3 ? "Message from Divine: Past â€“ Present â€“ Future." :
                           "Deep insight: 5-card guidance spread.";
    showInitialCard();
    pulledCards = [];
    revealBtn.style.display = 'inline-block';
  });
});

// Floating stars
for(let i=0;i<50;i++){
  const star = document.createElement('div');
  star.className = 'star';
  star.style.top = Math.random()*100 + '%';
  star.style.left = Math.random()*100 + '%';
  star.style.width = Math.random()*3+1 + 'px';
  star.style.height = star.style.width;
  document.body.appendChild(star);
}

// Random helper
function random(min,max){ return Math.random()*(max-min)+min; }

// Create gold back cards
function createGoldCards(num){
  cardContainer.innerHTML = '';
  for(let i=0;i<num;i++){
    const img = document.createElement('img');
    img.src = goldBack;
    img.className = 'card';
    cardContainer.appendChild(img);
  }
}

// Shuffle and reveal cards
function shuffleAndReveal(){
  createGoldCards(selectedSpread);
  const cardsElems = Array.from(document.querySelectorAll('.card'));
  pulledCards = [];
  const deckCopy = [...deck];
  for(let i=0;i<selectedSpread;i++){
    const index = Math.floor(Math.random()*deckCopy.length);
    pulledCards.push(deckCopy.splice(index,1)[0]);
  }

  let step = 0;
  const maxSteps = 25;
  const interval = setInterval(()=>{
    cardsElems.forEach(c=>{
      const randCard = deck[Math.floor(Math.random()*deck.length)].front;
      const tilt = random(-15,15);
      const scale = 1 + random(0,0.05);
      const slide = random(-15,15);
      c.src = randCard;
      c.style.transform = `translateX(${slide}px) rotateY(${tilt}deg) scale(${scale})`;
      // Sparkle effect
      if(Math.random()<0.3){
        const sparkle = document.createElement('div');
        sparkle.classList.add('sparkle');
        sparkle.style.left = random(0,c.offsetWidth)+'px';
        sparkle.style.top = random(0,c.offsetHeight)+'px';
        cardContainer.appendChild(sparkle);
        setTimeout(()=>sparkle.remove(),800);
      }
    });
    step++;
    if(step>=maxSteps){
      clearInterval(interval);
      // Reveal actual cards
      cardsElems.forEach((c,i)=>{
        c.src = pulledCards[i].front;
        c.style.transform = 'translateX(0px) rotateY(0deg) scale(1)';
        c.style.animation = 'popReveal 0.6s ease forwards';
      });
      chime.currentTime = 0;
      chime.play();
    }
  }, 80);
}

revealBtn.addEventListener('click', shuffleAndReveal);
</script>
</body>
</html>
